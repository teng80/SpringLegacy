package com.lgy.spring_15;


import org.springframework.http.MediaType;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

import com.lgy.spring_15.domain.SampleVO;

import lombok.extern.slf4j.Slf4j;

@RestController//json 데이터로 다운로드
//@Controller//getSample.jsp로 찾아감
@RequestMapping("/sample")
//@Log4j 보안이슈있음
@Slf4j //로그 가독성 좋고
public class SampleController {
//   getSample.jsp를 찾아감
   @GetMapping(value = "/getSample",produces = {MediaType.APPLICATION_JSON_UTF8_VALUE,//json처리
                                 MediaType.APPLICATION_XML_VALUE})//xml처리
   	
   public SampleVO getSample() {
//	   {"mno":112,"firstName":"스타","lastName":"로드"}
      return new SampleVO(112,"스타","로드");
   }
   
   @GetMapping(value = "/getText",produces = "text/plain; charset=utf-8")
   
   public String getText() {
//	   MIME TYPE : text/plain
	   System.out.println("MIME TYPE : "+MediaType.TEXT_PLAIN_VALUE);
//	   INFO : com.lgy.spring_15.SampleController - MIME TYPE : text/plain
	   log.info("MIME TYPE : "+MediaType.TEXT_PLAIN_VALUE);
	   log.debug("MIME TYPE : "+MediaType.TEXT_PLAIN_VALUE);
	   
	   //뷰가 아니고 string 출력
	   return "안녕하세요";
   }
}